<!DOCTYPE html>
<html>
    <head>
        <script src="//simplewebrtc.com/latest.js"></script> 
        <script src="https://cdn.rawgit.com/HenrikJoreteg/attachMediaStream/master/attachmediastream.bundle.js"></script>

        <script>
          SimpleWebRTC.prototype.handlePeerStreamAdded = function (peer) {
            var div = document.createElement('div');
            var button = document.createElement('button');
            button.textContent = 'Render peer video';
            div.appendChild(button);
            peer.div = div;
            document.querySelector('#remotesVideos').appendChild(div);
            button.onclick = function () {
              var video = attachMediaStream(peer.stream, null, {
                disableContextMenu: false
              });
              div.appendChild(video);
              div.removeChild(button);
            }
          };

          SimpleWebRTC.prototype.handlePeerStreamRemoved = function (peer) {
            peer.div.parentNode.removeChild(peer.div);
          };

          var webrtc = new SimpleWebRTC({
            // the id/element dom element that will hold "our" video
            localVideoEl: 'localVideo',
            // the id/element dom element that will hold remote videos
            remoteVideosEl: 'remotesVideos',
            // immediately ask for camera access
            autoRequestMedia: true
          });

          webrtc.on('readyToCall', function () {
            // you can name it anything
            webrtc.joinRoom('asdfasdfasdfasdf');
          });

        </script>
    </head>
    <body>
        <video height="300" id="localVideo"></video>
        <div id="remotesVideos"></div>
    </body>
</html>
